<!DOCTYPE html>

<html>
    <head>
        <title>Login</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        
        <style>

            body {
                background-image: linear-gradient(to right, rgb(87, 150, 231), rgb(219, 26, 145));
            }

            h2 {
                padding-top: 50px;
                font-family: Arial;
                font-weight: bold;
            }

            input {
                width: 300px;
                margin-bottom: 0.6rem;
                padding: 10px 5px;
                border: none;
                border-bottom: 1px solid rgb(116, 116, 116);
                outline: none;
            }
            
            p {
                
            }

            .container {
                background-color: white;
                width: 400px;
                height: 500px;
                position: relative;
                border-radius: 4px;
                text-align: center;
            }

            input:focus {   
                background-color: rgba(0, 0, 0, 0);
            }
        </style>    

        <script>

            'defines subfunction for updating target span(string) on bases of length of source(element)'
            function subfunction(element_source, id_target_span) {
                let span = document.getElementById(id_target_span);
                span.innerHTML = element_source.value.length
                if (element_source.value.length < 8) {
                span.style.color = "rgb(200, 0, 0)"
                }
                else {
                span.style.color = "rgb(0, 200, 0)"
                };
            }


            'defines a function which updates a <p> tag on basis of length of <input> tag'
            function checker(password, par) {
                let element = document.getElementById(password)
                element.addEventListener("focus", function(){
                    document.getElementById(par).innerHTML = 'Atleast 8 characters, current <span style="font-weight: bold" id="span">0</span>.'
                    subfunction(element, "span")
                });

                'Modifies the span'
                element.addEventListener("keyup", function(){
                    subfunction(element, "span")
                });
            }


            'Uses the above function'
            document.addEventListener("DOMContentLoaded", function(){
                checker("password", "par")
                checker("con_password", "par")
            });
        </script>
    </head>
    <body>
        <div class="container">
            <h2>Register</h2>
            <form action="/login" method="post">
                <p class="small">Username</p>
                <input autocomplete="off" type="text" name="name" placeholder="Username"> <br>
                <input autocomplete="off" id="password" type="password" name="pass" placeholder="Password"> <br>
                <input class="mb-4" id="con_password" autocomplete="off" type="password" name="con_pass" placeholder="Confirm Passwrod"> <br>
                <p class="small" id="par"></p>
                <button type="submit" class="btn btn-primary">Register</button>
            </form>
        </div>
    </body>     
</html>