<!DOCTYPE html>

<html>
    <head>
        <title>Login</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        
        <style>

            form {
                padding: 100px;
            }

            input {
                background-color: rgba(0, 0, 0, 0);
                width: 300px;
                margin-top: 0.6rem;
                padding: 10px 5px;
                outline: none;
                border: none;
                box-shadow: 0 -1px black inset;
                color: white
            }

            
            .blur {
                position: absolute;
                top: 0px;
                bottom: 0px;
                right: 0px;
                left: 0px;
                z-index: -1;
                background-image: url("pxfuel(1).jpg");
                background-repeat: no-repeat;
                background-position: center;
                background-size: cover;
                filter: blur(2px);
            }

            .container {
                margin: auto;
                position: relative;
                overflow: hidden;
                width: fit-content;
                border-radius: 20px;
                text-align: center;
                box-shadow: 0 0 10px 10px white inset
            }

            input:focus {   
                background-color: rgba(0, 0, 0, 0.2);
                box-shadow: 1px 1px black inset, -1px -1px black inset;
                border-radius: 5px;
            }
            input:focus::placeholder {
                opacity: 0.8;
            }

            ::placeholder {
                color: white;
                opacity: 0.5;
            }
        </style>    

        <script>

            'defines subfunction for updating target span(string) on bases of length of source(element)'
            function subfunction(element_source, id_target_span) {
                let span = document.getElementById(id_target_span);
                span.innerHTML = element_source.value.length
                if (element_source.value.length < 8) {
                span.style.color = "rgb(200, 0, 0)"
                }
                else {
                span.style.color = "rgb(0, 200, 0)"
                };
            }


            'defines a function which updates a <p> tag on basis of length of <input> tag'
            function checker(password, par) {
                let element = document.getElementById(password)
                element.addEventListener("focus", function(){
                    document.getElementById(par).innerHTML = 'Atleast 8 characters, current <span style="font-weight: bold" id="span">0</span>.'
                    subfunction(element, "span")
                });

                'Modifies the span'
                element.addEventListener("keyup", function(){
                    subfunction(element, "span")
                });
            }


            'Uses the above function'
            document.addEventListener("DOMContentLoaded", function(){
                checker("password", "par")
                checker("con_password", "par")
            });
        </script>
    </head>
    <body>
        <div class="container">
            <div class="blur"></div>
            <form action="/login" method="post">
                <input autocomplete="off" type="text" name="name" placeholder="Username"> <br>
                <input autocomplete="off" id="password" type="password" name="pass" placeholder="Password"> <br>
                <input class="mb-4" id="con_password" autocomplete="off" type="password" name="con_pass" placeholder="Confirm Passwrod"> <br>
                <p class="small" id="par" style="color:white; height: 21px;"></p>
                <button type="submit" class="btn btn-primary">Register</button>
            </form>
        </div>
    </body>     
</html>